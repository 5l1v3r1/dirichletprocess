{
    "collab_server" : "",
    "contents" : "#' Create a Hierarchical Dirichlet Mixture of Beta Distributions\n#'\n#' @param dataList List of data for each seperate Dirichlet mixture object\n#' @param maxY Maximum value for the Beta distribution.\n#' @param priorParameters Prior Parameters for the top level base distribution.\n#' @param hyperPriorParameters Hyper prior parameters for the top level base distribtuion.\n#' @param gammaPriors Prior parameters for the top level concentration parameter.\n#' @param alphaPriors Prior parameters for the individula concentration parameters.\n#' @param mhStepSize Metropolis Hastings jump size.\n#' @param numSticks Truncation level for the Stick Breaking formulation.\n#' @return dpobjlist A Hierarchical Dirichlet Processe object that can be fitted, plotted etc.\n#' @export\nDirichletProcessHierarchicalBeta <- function(dataList, maxY,\n                                             priorParameters = c(2,8),\n                                             hyperPriorParameters = c(1,0.125),\n                                             gammaPriors = c(2,4), alphaPriors = c(2, 4),\n                                             mhStepSize = c(0.1,0.1), numSticks = 50) {\n\n  gammaParam <- rgamma(1, gammaPriors[1], gammaPriors[2])\n  alphaParams <- rgamma(length(dataList), alphaPriors[1], alphaPriors[2])\n\n  mdobj_list <- HierarchicalBetaCreate(n=length(dataList), priorParameters=priorParameters,\n                                       hyperPriorParameters=hyperPriorParameters, gammaParam=gammaParam,\n                                      alpha0 = alphaParams, maxT=maxY, mhStepSize=mhStepSize, num_sticks=numSticks)\n\n  dpobjlist <- list()\n  dpobjlist$indDP <- lapply(seq_along(dataList), function(x) DirichletProcessCreate(dataList[[x]],\n    mdobj_list[[x]], alphaPriors))\n\n  dpobjlist$indDP <- lapply(dpobjlist$indDP, Initialise, posterior=FALSE)\n\n  for(i in seq_along(dpobjlist$indDP)){\n    dpobjlist$indDP[[i]]$alpha <- alphaParams[i]\n  }\n\n  dpobjlist$globalParameters <- mdobj_list[[1]]$theta_k\n  dpobjlist$globalStick <- mdobj_list[[1]]$beta_k\n  dpobjlist$gamma <- gammaParam\n\n  class(dpobjlist) <- c(\"list\", \"dirichletprocess\", \"hierarchical\")\n\n  return(dpobjlist)\n}\n\n\n\n\n\n",
    "created" : 1505725166774.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1294580215",
    "id" : "24D95701",
    "lastKnownWriteTime" : 1502965026,
    "last_content_update" : 1502965026,
    "path" : "~/Documents/PhD/Research/Dirichelet/dirichletprocess/R/dirichlet_process_hierarchical_beta.R",
    "project_path" : "R/dirichlet_process_hierarchical_beta.R",
    "properties" : {
        "marks" : "<:0,0\n>:0,0",
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}